var jt=Object.defineProperty,Kt=Object.defineProperties;var Zt=Object.getOwnPropertyDescriptors;var bt=Object.getOwnPropertySymbols;var Qt=Object.prototype.hasOwnProperty,Jt=Object.prototype.propertyIsEnumerable;var rt=(t,e,n)=>e in t?jt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ut=(t,e)=>{for(var n in e||(e={}))Qt.call(e,n)&&rt(t,n,e[n]);if(bt)for(var n of bt(e))Jt.call(e,n)&&rt(t,n,e[n]);return t},ct=(t,e)=>Kt(t,Zt(e));var _=(t,e,n)=>(rt(t,typeof e!="symbol"?e+"":e,n),n);import{d as ae,r as E,_ as ue,o as h,c as f,F,a as Q,n as q,t as $,b as Gt,e as he,f as Ee,g as Ne,h as c,i as te,j as Tt,k as W,l as Ve,m as en,w as Z,v as oe,u as y,p as Le,q as tn,s as Pe,x as xe,y as Ze,z as nn,A as sn,B as Qe,C as on,D as de,E as me,G as ye,H as Et,I as ve,J as an,K as ln}from"./index.30681fff.js";class Rt{constructor(e,n){_(this,"symbol");_(this,"value");_(this,"children");this.symbol=e,typeof n=="string"?(this.value=n,this.children=[]):(this.value="",this.children=n)}toString(){return this.pretty(0)}pretty(e){let s=" ".repeat(e*2)+this.symbol.name;return this.symbol.isTerm&&(s+="("+this.value+")"),s+=`
`,this.children.forEach(o=>{s+=o.pretty(e+1)}),s}}class ee extends Error{constructor(n,s){super(n.toString());_(this,"extra");this.extra=s}}class De extends Error{constructor(n,s){super(n.toString());_(this,"extra");this.extra=s}}const X={FATAL_ERROR:1e3,INVALID_OPERATION:1001,DESERIALIZE_FAILED:1002,LR_ITEM_INDEX_OUT_OF_RANGE:1011,AUTOMATON_STATES_NOT_FOUND:1031,START_SYMBOL_NOT_FOUND:1051,UNEXPECTED_TOKEN:1052,TOKEN_LIST_INDEX_OUT_OF_RANGE:1053,LR_ITEM_SET_CLOSURE_HAVE_CALCULATED:2021,AUTOMATON_STATE_CLOSURE_NEED_CALCULATE:2031,AUTOMATON_STATE_CLOSURE_HAVE_APPENDED:2032,LOOKAHEADS_HAVE_PROPAGATED:2033,NEED_SPONTANEOUSLY_GENERATE:2034,PARSE_TABLE_HAVE_CALCULATED:2041,PARSE_TABLE_NEED_CALCULATE:2051,PARSER_DONE:2052};class Fe{constructor(e){_(this,"name");_(this,"isTerm",!1);this.name=e}static deserialize(e){let n=e.__type__;if(n===ze._type)return new ze(e.name);if(n===yt._type)return new yt(e.name);throw new ee(X.DESERIALIZE_FAILED)}eq(e){return this.isTerm===e.isTerm&&this.name===e.name}}class ze extends Fe{constructor(n){super(n);_(this,"isTerm",!0)}}_(ze,"_type","Terminal");class yt extends Fe{constructor(n){super(n);_(this,"isTerm",!1)}}_(yt,"_type","NonTerminal");const rn="start",Ge=new ze(rn),un="$",Re=new ze(un),cn="$EPSILON",Ht=new ze(cn),dn="#",wt=new ze(dn),ot=class{constructor(e,n,s,o){_(this,"origin");_(this,"expansion");_(this,"order");_(this,"priority");this.origin=e,this.expansion=n,this.order=s,this.priority=o}static deserialize(e){if(e.__type__!==ot._type)throw new ee(X.DESERIALIZE_FAILED);return new ot(Fe.deserialize(e.origin),e.expansion.map(s=>Fe.deserialize(s)),e.order,e.options.priority?e.options.priority:0)}toString(){let e="";e+=this.origin.name+" \u2192 ";for(let n=0;n<this.expansion.length;n++)n===0?e+=this.expansion[n].name:e+=" "+this.expansion[n].name;return e}};let st=ot;_(st,"_type","Rule");const at=class{constructor(e,n,s,o,r,l,i,a){_(this,"type");_(this,"symbol");_(this,"value");_(this,"startPos");_(this,"line");_(this,"column");_(this,"endLine");_(this,"endColumn");_(this,"endPos");this.type=e,this.symbol=wt,this.value=n,this.startPos=s,this.line=o,this.column=r,this.endLine=l,this.endColumn=i,this.endPos=a}static deserialize(e){if(e.__type__!==at._type)throw new ee(X.DESERIALIZE_FAILED);return new at(e.type,e.value,e.start_pos,e.line,e.column,e.end_line,e.end_column,e.end_pos)}};let He=at;_(He,"_type","Token");const tt={DOT:".",COMMA:",",COLON:":",SEMICOLON:";",PLUS:"+",MINUS:"-",STAR:"*",SLASH:"/",BACKSLASH:"\\",VBAR:"|",QMARK:"?",BANG:"!",AT:"@",HASH:"#",DOLLAR:"$",PERCENT:"%",CIRCUMFLEX:"^",AMPERSAND:"&",UNDERSCORE:"_",LESSTHAN:"<",MORETHAN:">",EQUAL:"=",DBLQUOTE:'"',QUOTE:"'",BACKQUOTE:"`",TILDE:"~",LPAR:"(",RPAR:")",LBRACE:"{",RBRACE:"}",LSQB:"[",RSQB:"]"};class Ue{constructor(e,n=0,s){_(this,"rule");_(this,"index");_(this,"lookahead");if(n>e.expansion.length)throw new ee(X.LR_ITEM_INDEX_OUT_OF_RANGE);this.rule=e,this.index=n,s===void 0?this.lookahead=new Set:s instanceof Fe?(this.lookahead=new Set,this.lookahead.add(s)):this.lookahead=new Set([...s])}toString(){let e="[ "+this.rule.origin.name+" ->";for(let n=0;n<this.rule.expansion.length;n++)e+=" ",n===this.index&&(e+="\xB7"),e+=this.rule.expansion[n].name;if(this.lookahead.size===0)return e+(this.end()?"\xB7":"")+" ]";{e+=this.end()?"\xB7, ":", ";let n=!0;return this.lookahead.forEach(s=>{n?n=!1:e+="/",e+=s.name}),e+" ]"}}equal(e){return e.lookahead.size!==this.lookahead.size?!1:this.equalIncludes(e)}equalIncludes(e){for(let n of e.lookahead)if(!this.lookahead.has(n))return!1;return e.rule===this.rule&&e.index===this.index}equalLR0(e){return e.rule===this.rule&&e.index===this.index}end(){return this.index===this.rule.expansion.length}current(){return this.rule.expansion[this.index]}advance(){return new Ue(this.rule,this.index+1,this.lookahead)}appendLookahead(e){let n=this.lookahead.size;return e instanceof Fe?this.lookahead.add(e):this.lookahead=new Set([...this.lookahead,...e]),this.lookahead.size!==n}clearLookahead(){this.lookahead.clear()}}class dt{constructor(e,n){_(this,"kernel");_(this,"closure");_(this,"id",0);_(this,"closureDone",!1);_(this,"accepting",!1);_(this,"end",!1);_(this,"appended",!1);_(this,"searchIndex",0);this.kernel=e,this.id=n,this.closure=[],this.kernel.forEach(s=>{this.closure.push(s),s.current()||(this.accepting=!0,s.rule.origin===Ge&&(this.end=!0))})}toString(){let e="ItemSet "+this.id.toString()+`: 
`;return this.closureDone?this.closure.forEach(n=>{e+=n.toString()+`
`}):e+="Closure not calculated.",e+="------------",e}initClosure(){this.closure=[],this.closureDone=!1,this.searchIndex=0,this.kernel.forEach(e=>{this.closure.push(e)})}equal(e){return this.kernelEqual(e.kernel)}kernelEqual(e){if(this.kernel.length!==e.length)return!1;for(let n=0;n<e.length;n++)if(!this.inKernel(e[n]))return!1;return!0}inKernel(e){for(let n=0;n<this.kernel.length;n++)if(e.equal(this.kernel[n]))return!0;return!1}calcClosure(e){if(this.closureDone)throw new De(X.LR_ITEM_SET_CLOSURE_HAVE_CALCULATED);let n=[];for(;!this.closureDone;){let s=[],o=this.closure[this.searchIndex];const r=o.current();for(let l of T.rules)if(r===l.origin){if(e==="LR0"){let i=new Ue(l,0);this.have(i)||(s.push(i),this.closure.push(i))}else if(e==="LR1"){let i=o.rule.expansion.slice(o.index+1);o.lookahead.forEach(a=>{mn([...i,a]).forEach(v=>{let m=new Ue(l,0,v);this.have(m)||(s.push(m),this.closure.push(m))})})}}this.searchIndex++,this.searchIndex===this.closure.length&&(this.closureDone=!0),n.push(s)}return n}have(e){for(let n=0;n<this.closure.length;n++)if(this.closure[n].equalIncludes(e))return!0;return!1}lr0kernelEqual(e){if(this.kernel.length!==e.kernel.length)return!1;for(let n=0;n<e.kernel.length;n++){let s=!1;for(let o=0;o<this.kernel.length;o++)if(e.kernel[n].equalLR0(this.kernel[o])){s=!0;break}if(!s)return!1}return!0}mergeLookaheads(){let e=[];for(let n=this.kernel.length;n<this.closure.length;n++){let s=!1;for(let o=0;o<e.length;o++)if(e[o].rule===this.closure[n].rule&&e[o].index===this.closure[n].index){s=!0,e[o].lookahead=new Set([...e[o].lookahead,...this.closure[n].lookahead]);break}s||e.push(this.closure[n])}this.closure=[...this.kernel,...e]}mergeLr1ItemSet(e){e.closure.forEach(n=>{for(let s=0;s<this.closure.length;s++)this.closure[s].equalLR0(n)&&(this.closure[s].lookahead=new Set([...this.closure[s].lookahead,...n.lookahead]))})}getItemIndex(e){for(let n=0;n<this.kernel.length;n++)if(this.kernel[n].equal(e))return n;return-1}}class hn{constructor(e){_(this,"states",[]);_(this,"done",!1);_(this,"type");_(this,"transitions",new Map);_(this,"transitionsRule",new Map);_(this,"effects",[]);_(this,"propagated",!1);_(this,"spontaneouslyGenerated",!1);this.type=e;let n=new dt([new Ue(T.startRule,0,this.type==="LR0"||this.type==="LR0_LALR1"?void 0:Re)],0);this.states.push(n)}toString(){let e="";return this.states.forEach(n=>{n!==void 0&&(e+=n.toString()+`
`)}),e}CalcStateClosure(e,n){if(this.states[e]===void 0)throw new ee(X.AUTOMATON_STATES_NOT_FOUND);return n==="LR0"||n==="LR0_LALR1"?this.states[e].calcClosure("LR0"):this.states[e].calcClosure("LR1"),this.states[e]}AppendStates(e){if(this.states[e]===void 0)throw new ee(X.AUTOMATON_STATES_NOT_FOUND);let n=this.states[e];if(!n.closureDone){let a=!1;for(let u=0;u<n.kernel.length;u++){let v=n.kernel[u].current();v===void 0||v.isTerm||(a=!0)}if(a)throw new De(X.AUTOMATON_STATE_CLOSURE_NEED_CALCULATE);n.closureDone=!0}if(n.appended)throw new De(X.AUTOMATON_STATE_CLOSURE_HAVE_APPENDED);n.appended=!0;let s=new Map,o=new Map;n.closure.forEach(a=>{if(!a.end()){let u=a.current();s.has(u)||s.set(u,[]),s.get(u).push(a.advance());let v=o.get(u);(v===void 0||a.rule.priority>v.priority||a.rule.priority===v.priority&&a.rule.order>v.order)&&o.set(u,a.rule)}}),this.transitionsRule.set(e,o);let r=this.states.length,l=new Map,i=[];return s.forEach((a,u)=>{let v=-1;for(let m=0;m<r;m++)if(this.states[m].kernelEqual(a)){v=m;break}if(v===-1){v=this.states.length;let m=new dt(a,v),L=!1,P=!1;for(let D=0;D<m.kernel.length;D++){let z=m.kernel[D].current();z!==void 0&&(P=!0,z.isTerm||(L=!0))}m.closureDone=!L,m.appended=!P,this.states.push(m)}l.set(u,v),i.push({symbol:u,state:this.states[v]})}),this.transitions.set(e,l),{from:e,targets:i}}MergeLookaheads(e){if(this.states[e]===void 0)throw new ee(X.AUTOMATON_STATES_NOT_FOUND);return this.states[e].mergeLookaheads(),this.states[e]}mergeLr1(){if(this.type!=="LR1_LALR1")throw new ee(X.INVALID_OPERATION);let e=new Map;for(let s=0;s<this.states.length;s++)if(this.states[s]!==void 0)for(let o=s+1;o<this.states.length;o++)this.states[o]!==void 0&&this.states[s].lr0kernelEqual(this.states[o])&&(e.set(this.states[o].id,this.states[s].id),this.states[s].mergeLr1ItemSet(this.states[o]),this.transitions.delete(this.states[o].id),delete this.states[o]);const n=new Map;return this.states.forEach(s=>{let o=this.transitions.get(s.id);if(o===void 0)return;let r=o.entries(),l=[];for(let i of r){let a=e.get(i[1]);a!==void 0&&(o.set(i[0],a),l.push({symbol:i[0],from:i[1],to:a}))}l.length!==0&&n.set(s.id,l)}),{mergeMap:e,transitionChanges:n}}propagatedAndSpontaneouslyGenerate(){if(this.type!=="LR0_LALR1")throw new ee(X.INVALID_OPERATION);let e=new Map;return e.set(0,new Map().set(0,new Set([Re]))),this.states.forEach(n=>{let s=[];n.kernel.forEach(o=>{if(o.end()){s.push([]);return}let r=[],l=new dt([new Ue(o.rule,o.index,wt)],-1);l.calcClosure("LR1"),l.closure.forEach(i=>{if(i.end())return;let a=Array.from(i.lookahead)[0],v=this.transitions.get(n.id).get(i.current());if(v===void 0)throw new ee(X.FATAL_ERROR);let m=i.advance();m.clearLookahead();let L=this.states[v].getItemIndex(m);if(L===-1)throw new ee(X.FATAL_ERROR);if(a===wt)r.push([v,L]);else{e.has(v)||e.set(v,new Map);let P=e.get(v);P.has(L)||P.set(L,new Set),P.get(L).add(a)}}),s.push(r)}),this.effects.push(s)}),e.forEach((n,s)=>{n.forEach((o,r)=>{this.states[s].kernel[r].appendLookahead(o)})}),e}pass(){if(this.type!=="LR0_LALR1")throw new ee(X.INVALID_OPERATION);if(this.propagated)throw new ee(X.LOOKAHEADS_HAVE_PROPAGATED);if(!this.spontaneouslyGenerated)throw new ee(X.NEED_SPONTANEOUSLY_GENERATE);let e=!1;this.states.forEach(n=>n.kernel.forEach((s,o)=>{this.effects[n.id][o].forEach(l=>{let i=this.states[l[0]].kernel[l[1]].appendLookahead(s.lookahead);e=e||i})})),e||(this.propagated=!0)}reCalc(){if(this.type!=="LR0_LALR1")throw new ee(X.INVALID_OPERATION);this.states.forEach(e=>{e.initClosure(),e.calcClosure("LR1"),e.mergeLookaheads()})}}class it{constructor(e,n,s,o){_(this,"name");_(this,"abbr");_(this,"arg");_(this,"rule");this.name=e,this.abbr=n,this.arg=s,this.rule=o}toString(){return this.abbr+(this.name==="Accept"?"":this.arg.toString())}}class ht extends it{constructor(e,n){super("Shift","s",e,n)}}class At extends it{constructor(e,n){super("Reduce","r",e,n)}}class ft extends it{constructor(e,n){super("Goto","g",e,n)}}class fn extends it{constructor(){super("Accept","acc",-1,T.startRule)}}class pn{constructor(e){_(this,"actionTable",new Map);_(this,"gotoTable",new Map);_(this,"actionHeader",[]);_(this,"gotoHeader",[]);_(this,"conflict",!1);_(this,"done",!1);_(this,"automaton");this.automaton=e}toString(){let e=[],n=[],s=[];T.symbolMap.forEach((v,m)=>{v!==Ge&&(v.isTerm?n.push(m):s.push(m))});let o=[...n,...s];this.automaton.states.forEach((v,m)=>{let L=[m.toString()];o.forEach(P=>{let D=T.symbolMap.get(P),z=D.isTerm?this.actionTable.get(v.id).get(D):this.gotoTable.get(v.id).get(D);L.push(z?z.toString():"")}),e.push(L)}),o=["",...o],e=[o,...e];let r=[];for(let v=0;v<e[0].length;++v){let m=0;e.forEach(L=>{m=Math.max(m,L[v].length)}),r.push(m)}let l=n.length-1,i=s.length-1;for(let v=0;v<n.length;v++)l+=r[v+1];for(let v=0;v<s.length;v++)i+=r[v+n.length+1];l=Math.max(l,6),i=Math.max(i,4);let a=r[0]+l+i+2,u="";return u+="-".repeat(a+2)+`
`,u+="|"+" ".repeat(r[0])+"|ACTION"+" ".repeat(l-6)+"|GOTO"+" ".repeat(i-4)+`|
`,e.forEach(v=>{u+="-".repeat(a+2)+`
|`,v.forEach((m,L)=>{u+=m+" ".repeat(r[L]-m.length)+"|"}),u+=`
`}),u+="-".repeat(a+2),u}insert(e,n,s,o){let r=e.get(n).get(s);r===void 0?e.get(n).set(s,[o]):(this.conflict=!0,r.push(o),r.sort((l,i)=>{if(l instanceof ft||i instanceof ft)throw new ee(X.FATAL_ERROR);return l.rule.priority===i.rule.priority?l.rule.origin===i.rule.origin&&i.rule.order!==l.rule.order?i.rule.order-l.rule.order:l instanceof ht?-1:i instanceof ht?1:0:i.rule.priority-l.rule.priority}))}calc(){if(this.done)throw new De(X.PARSE_TABLE_HAVE_CALCULATED);T.symbolMap.forEach(e=>{e!==Ge&&(e.isTerm?this.actionHeader.push(e):this.gotoHeader.push(e))}),this.actionTable=new Map,this.gotoTable=new Map,this.automaton.states.forEach(e=>{this.actionTable.set(e.id,new Map),this.gotoTable.set(e.id,new Map);let n=e.id,s=this.automaton.transitions.get(n);s==null||s.forEach((o,r)=>{let l=this.automaton.transitionsRule.get(n).get(r);if(l===void 0)throw new ee(X.FATAL_ERROR);r.isTerm?this.insert(this.actionTable,n,r,new ht(o,l)):this.insert(this.gotoTable,n,r,new ft(o,l))}),e.closure.forEach(o=>{o.end()&&(o.rule.origin===Ge?this.insert(this.actionTable,n,Re,new fn):this.automaton.type==="LR0"?T.symbolMap.forEach(r=>{this.insert(this.actionTable,n,r,new At(T.ruleIndexMap.get(o.rule),o.rule))}):o.lookahead.forEach(r=>{this.insert(this.actionTable,n,r,new At(T.ruleIndexMap.get(o.rule),o.rule))}))})}),this.done=!0}get(e,n,s){let r=(e==="ACTION"?this.actionTable:this.gotoTable).get(n).get(s);return r===void 0?r:r[0]}}const T={rules:[],startRule:void 0,ruleIndexMap:new Map,symbolMap:new Map,tokens:[],firstSet:new Map,nullable:new Set,stateStack:[],valueStack:[],reset:function(){this.rules=[],this.startRule=void 0,this.ruleIndexMap=new Map,this.symbolMap=new Map,this.tokens=[],this.firstSet=new Map,this.nullable=new Set,this.stateStack=[],this.valueStack=[]}};function $t(t,e){if(e.size>t.size)return!1;let n=e.values();for(let s of n)if(!t.has(s))return!1;return!0}function mn(t){let e=new Set;for(let n=0;n<t.length;++n){if(t[n].isTerm){e=new Set([...e,t[n]]);break}if(e=new Set([...e,...T.firstSet.get(t[n])]),!T.nullable.has(t[n]))break;n===t.length-1&&e.add(Ht)}return Array.from(e)}class gn{constructor(e,n,s,o){_(this,"algo");_(this,"automaton");_(this,"current");_(this,"parseTable");_(this,"tokenPtr",-1);_(this,"done",!1);_(this,"store",T);T.reset(),this.algo=e,o||(n.forEach(i=>{i.expansion.forEach(a=>{tt[a.name]!==void 0&&(a.name=tt[a.name])})}),s.forEach(i=>{tt[i.type]!==void 0&&(i.type=tt[i.type])})),T.rules=n,T.tokens=s;const r=i=>(T.symbolMap.has(i.name)||T.symbolMap.set(i.name,i),T.symbolMap.get(i.name));if(r(Ge),r(Re),T.rules.forEach((i,a)=>{i.origin.name===Ge.name&&(T.startRule=i),i.origin=r(i.origin),i.expansion.forEach((u,v,m)=>{m[v]=r(u)}),T.ruleIndexMap.set(i,a)}),!T.startRule)throw new ee(X.START_SYMBOL_NOT_FOUND);T.tokens.forEach(i=>{const a=T.symbolMap.get(i.type);if(a===void 0)throw new ee(X.FATAL_ERROR);i.symbol=a});const l=new He(Re.name,Re.name,0,0,0,0,0,0);l.symbol=Re,T.tokens.push(l),this.automaton=new hn(this.algo),this.parseTable=new pn(this.automaton),this.algo!=="LR0"&&this.calcFirstSet(),T.stateStack.push(0),this.current=this.nextToken()}calcFirstSet(){let e=!0;T.symbolMap.forEach(n=>{T.firstSet.set(n,n.isTerm?new Set([n]):new Set)});do e=!0,T.rules.forEach(n=>{if(n.expansion.length===0||$t(T.nullable,new Set([...n.expansion]))){let s=T.nullable.size;T.nullable.add(n.origin),T.nullable.size===s||(e=!1)}for(let s=0;s<n.expansion.length;s++)if(s===0||$t(T.nullable,new Set(n.expansion.slice(0,s)))){let o=T.firstSet.get(n.origin).size;T.firstSet.set(n.origin,new Set([...T.firstSet.get(n.origin),...T.firstSet.get(n.expansion[s])])),T.firstSet.get(n.origin).size===o||(e=!1)}});while(!e)}getFirstSet(){return{firstSet:T.firstSet,nullable:T.nullable,SYMBOL_EPSILON:Ht}}calcParseTable(){return this.parseTable.calc(),this.parseTable}parseByStep(){if(!this.parseTable.done)throw new De(X.PARSE_TABLE_NEED_CALCULATE);if(this.done)throw new De(X.PARSER_DONE);let e=T.stateStack[T.stateStack.length-1],n=this.current.symbol,s,o=this.parseTable.get(n.isTerm?"ACTION":"GOTO",e,n);if(o===void 0)throw new ee(X.UNEXPECTED_TOKEN,this.current.value);if(o.name==="Shift")T.stateStack.push(o.arg),T.valueStack.push(new Rt(n,this.current.value)),this.nextToken(),s={action:o,stateStackDiff:[T.stateStack[T.stateStack.length-1]],valueStackDiff:[T.valueStack[T.valueStack.length-1]]};else if(o.name==="Reduce"){let r=T.rules[o.arg],l=r.expansion.length,i=T.stateStack.splice(-l,l),a=T.valueStack.splice(-l,l);s={action:o,stateStackDiff:i,valueStackDiff:a},this.current=new Rt(r.origin,a)}else o.name==="Goto"?(T.stateStack.push(o.arg),T.valueStack.push(this.current),this.current=T.tokens[this.tokenPtr],s={action:o,stateStackDiff:[T.stateStack[T.stateStack.length-1]],valueStackDiff:[T.valueStack[T.valueStack.length-1]]}):(this.done=!0,s={action:o,stateStackDiff:[],valueStackDiff:[]});return ct(ut({},s),{actionSource:{stateId:e,symbol:n},currentStateId:T.stateStack[T.stateStack.length-1],next:this.current})}nextToken(){if(this.tokenPtr++,this.tokenPtr>=T.tokens.length)throw new ee(X.TOKEN_LIST_INDEX_OUT_OF_RANGE);return this.current=T.tokens[this.tokenPtr],this.current}}function _n(t){return new Promise(function(e,n){let s=!1,o=document.querySelector('script[src="'+t+'"]');if(!o)o=document.createElement("script"),o.type="text/javascript",o.async=!0,o.src=t,s=!0;else if(o.hasAttribute("data-loaded")){e(o);return}o.addEventListener("error",n),o.addEventListener("abort",n),o.addEventListener("load",function(){o.setAttribute("data-loaded",!0),e(o)}),s&&document.head.appendChild(o)})}class Je extends Error{constructor(n,s){super(n);_(this,"extra");this.extra=s}}let Be;async function vn(t){return await _n("https://cdn.jsdelivr.net/pyodide/v0.20.0/full/pyodide.js"),Be=await window.loadPyodide(),t==null||t.call(this,"Pyodide loaded. Installing micropip..."),await Be.loadPackage("micropip"),await Be.runPythonAsync("import micropip"),t==null||t.call(this,"Micropip installed."),Be}function yn(){if(Be===void 0)throw new Je("PyodideNotLoaded");return Be}async function wn(t){t("Loading Pyodide...");const e=await vn(t);if(e===void 0)throw new Je("PyodideLoadFailed");t("Installing Lark..."),await e.runPythonAsync("await micropip.install('lark')"),await e.runPythonAsync("from lark import Lark"),await e.runPythonAsync("import json"),t("Finish loading Lark.")}let St;function Sn(t,e,n,s){try{const o=yn(),r=[],l=[];o.globals.set("grammar",e),o.globals.set("text",n);let i=`parser = Lark(grammar, parser="lalr", lexer="basic", keep_all_tokens=True)
ruleList = []
for rule in parser.rules:
    ruleList.append(json.dumps(rule.serialize()))
def serialize_token(token):
    d = {"type":token.type,"value":token.value, "start_pos": token.start_pos,
    "line":token.line, "column": token.column, "end_line": token.end_line,
    "end_column":token.end_column, "end_pos": token.end_pos, "__type__": "Token"}
    return json.dumps(d)
tokenGenerator = parser.lex(text)
tokenList = []
for token in tokenGenerator:
    tokenList.append(serialize_token(token))`;o.runPython(i);let a=o.globals.get("ruleList");for(let m=0;m<a.length;m++){let L=st.deserialize(JSON.parse(a.get(m)));r.push(L)}a.destroy();let u=o.globals.get("tokenList");for(let m=0;m<u.length;m++){let L=He.deserialize(JSON.parse(u.get(m)));l.push(L)}u.destroy(),i=`del parser
del ruleList
del tokenGenerator
del tokenList`,o.runPython(i),St=new gn(t,r,l,s)}catch(o){throw new Je("InitParserError",o instanceof Error?o.message:void 0)}}function et(){if(St===void 0)throw new Je("ParserNotInited");return St}const Ln={options:{type:Array,default:[]},disable:{type:Boolean,default:!1},modelValue:{type:String,default:""}},kn=ae({name:"GRadioGroup",props:Ln,setup(t,e){const n=E(0),s=t.options.indexOf(t.modelValue);s!==-1&&(n.value=s);function o(r){n.value=r,e.emit("update:modelValue",t.options[r])}return t.options.length>0&&o(n.value),{activeRadioIndex:n,updateValue:o}}}),bn={ref:"radioGroupRef"},Tn=["onClick"];function En(t,e,n,s,o,r){return h(),f("div",bn,[(h(!0),f(F,null,Q(t.options,(l,i)=>(h(),f("button",{class:q(["g-radio-button",t.disable?"disable":"",i===t.activeRadioIndex?"active":""]),onClick:a=>t.disable?void 0:t.updateValue(i)},$(l),11,Tn))),256))],512)}var Rn=ue(kn,[["render",En],["__scopeId","data-v-0fcadbec"]]);const An=ae({props:{type:{type:String,default:"default"}},setup(){}});function $n(t,e,n,s,o,r){return h(),f("button",{class:q(["__g-button","__g-button-type-"+t.type])},[Gt(t.$slots,"default")],2)}var be=ue(An,[["render",$n]]);const In={placeholder:{type:String,default:""},resize:{type:String,default:"none"},modelValue:{type:String,default:""},rows:{type:Number,defalut:10}},Pn=ae({props:In,setup(t,e){E();const n=he(()=>({resize:t.resize}));function s(o){const r=o.target.value;e.emit("update:modelValue",r)}return{textareaStyle:n,handleTextareaInput:s}}}),xn=["placeholder","rows"];function Cn(t,e,n,s,o,r){return h(),f("textarea",{ref:"textarea",class:"g-textarea",placeholder:t.placeholder,style:Ee(t.textareaStyle),rows:t.rows,onInput:e[0]||(e[0]=(...l)=>t.handleTextareaInput&&t.handleTextareaInput(...l))},null,44,xn)}var Mn=ue(Pn,[["render",Cn],["__scopeId","data-v-19beb715"]]);const On={direction:{type:String,required:!0},size:{type:Number,default:16}},Nn=ae({props:On,setup(t,e){const n=E(),s=E();return Ne(()=>{n.value.style.height=s.value.offsetHeight/2+"px"}),he(()=>({borderWidth:t.size})),{arrow:n,arrowInner:s}}}),Dn={class:"arrow",ref:"arrow"},zn={class:"arrow-inner",ref:"arrowInner"};function Bn(t,e,n,s,o,r){return h(),f("div",Dn,[c("div",zn,null,512)],512)}var Gn=ue(Nn,[["render",Bn],["__scopeId","data-v-91ef504e"]]);const Hn={title:String,content:String,type:{type:String,default:"primary"},verticalOffset:{type:Number,default:60},duration:{type:Number,default:4e3},id:{type:String,required:!0}},Fn=ae({props:Hn,setup(t,e){const n=E(),s=E(!1);let o;function r(){o=window.setTimeout(()=>{s.value=!1},t.duration)}function l(){clearTimeout(o),o=void 0}return Ne(()=>{var i;(i=n.value)==null||i.addEventListener("transitionend",()=>{s.value===!1&&e.emit("destroy",t.id)}),r(),setTimeout(()=>{s.value=!0},0)}),{active:s,notification:n,startTimer:r,stopTimer:l}}}),Un=["id"],Vn={class:"notification-title"},Wn={class:"notification-content"};function Yn(t,e,n,s,o,r){return h(),f("div",{id:t.id,class:q(["g-notification",t.active?"notification-active":""]),ref:"notification",style:Ee({top:t.verticalOffset+"px"}),onMouseenter:e[0]||(e[0]=(...l)=>t.stopTimer&&t.stopTimer(...l)),onMouseleave:e[1]||(e[1]=(...l)=>t.startTimer&&t.startTimer(...l))},[c("div",{class:q(["notification-type-"+t.type,"notification-inner"])},[c("div",Vn,$(t.title),1),c("div",Wn,$(t.content),1)],2)],46,Un)}var Xn=ue(Fn,[["render",Yn],["__scopeId","data-v-5d64d0db"]]);const Ie=[],It=16,qn=60;let jn=1;function pt(t){let e=qn;Ie.forEach(i=>{var a;e+=(((a=i.el)==null?void 0:a.offsetHeight)||0)+It});const n=document.createElement("div");function s(i){var m;let a=Ie.findIndex(L=>{var P;return((P=L.component)==null?void 0:P.props.id)===i});if(a===-1)return;let v=((m=Ie[a].el)==null?void 0:m.offsetHeight)||0;Ie.splice(a,1);for(let L=a;L<Ie.length;L++){let P=Number.parseInt(Ie[L].el.style.top,10)-v-It;Ie[L].component.props.verticalOffset=P}Tt(null,n)}let o=document.body;const r={title:t.title,content:t.content,type:t.type,verticalOffset:e,id:`g-notification_${jn++}`,onDestroy:s},l=te(Xn,r);Tt(l,n),o.appendChild(n.firstElementChild),Ie.push(l)}const Kn=ae({props:{activeText:{type:String,default:""},inactiveText:{type:String,default:""},modelValue:{type:Boolean},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","change"],setup(t,e){function n(){t.disabled||(e.emit("update:modelValue",!t.modelValue),e.emit("change",t.modelValue))}return{switchChange:n}}}),Zn={key:0,class:"__g-switch-text __g-switch-text-l"},Qn={key:1,class:"__g-switch-text __g-switch-text-r"};function Jn(t,e,n,s,o,r){return h(),f("div",{class:q(["__g-switch",t.disabled?"__g-switch-disabled":""]),onClick:e[0]||(e[0]=l=>t.switchChange())},[t.inactiveText?(h(),f("span",Zn,$(t.inactiveText),1)):W("",!0),c("span",{class:q(["__g-switch-core",t.modelValue?"__g-switch-core-active":"__g-switch-core-inactive"])},[c("div",{class:q(["__g-switch-circle",t.modelValue?"__g-switch-circle-active":"__g-switch-circle-inactive"])},null,2)],2),t.activeText?(h(),f("span",Qn,$(t.activeText),1)):W("",!0)],2)}var Ft=ue(Kn,[["render",Jn]]),es="/assets/minus.5ab3c386.svg",Ut="/assets/switcher.7fb22669.svg",ts="/assets/border.93b1f158.svg",ns="/assets/pushpin.9cdf606a.svg";const Lt=new Map;let Ke=0;function ss(t){const e=Symbol();return Lt.set(e,t),Ke++,[e,Ke]}function os(t){Lt.delete(t)}window.addEventListener("resize",as);function as(){Lt.forEach(t=>t.exposed.avoidOutOfBound())}function is(t){return t===Ke?t:(Ke++,Ke)}const ls={class:"__g-window-bar-title"},rs={width:"16",height:"16",src:es,alt:"min"},us={width:"16",height:"16",src:Ut,alt:"min"},cs={width:"16",height:"16",src:ts,alt:"max"},ds={width:"16",height:"16",src:Ut,alt:"max"},hs=ae({props:{title:{type:String,required:!0},defaultStyle:{type:Object},position:{type:String,default:"fixed"}},setup(t,{expose:e}){const n=t,s=E(),o=E(),r=E(),l=E(),i=E(),a=E(),u=E(),v=E(),m=E(),L=E(),P=E(),D=E(),z=E(),j=E(),Y=300,ne=tn(),[ce,J]=ss(ne);Ne(()=>{var R,k,B,H,K,d,S,w,b,g,I,A,G;(R=s.value)==null||R.addEventListener("mousedown",V),(k=o.value)==null||k.addEventListener("mousedown",Ae),(B=l.value)==null||B.addEventListener("mousedown",O=>O.stopPropagation()),(H=i.value)==null||H.addEventListener("mousedown",O=>O.stopPropagation()),(K=a.value)==null||K.addEventListener("mousedown",O=>O.stopPropagation()),(d=u.value)==null||d.addEventListener("mousedown",O=>fe(O,"n")),(S=v.value)==null||S.addEventListener("mousedown",O=>fe(O,"s")),(w=m.value)==null||w.addEventListener("mousedown",O=>fe(O,"e")),(b=L.value)==null||b.addEventListener("mousedown",O=>fe(O,"w")),(g=P.value)==null||g.addEventListener("mousedown",O=>fe(O,"ne")),(I=D.value)==null||I.addEventListener("mousedown",O=>fe(O,"nw")),(A=z.value)==null||A.addEventListener("mousedown",O=>fe(O,"se")),(G=j.value)==null||G.addEventListener("mousedown",O=>fe(O,"sw"))}),Ve(()=>{os(ce)});const p=en({pinned:!0,minimized:!1,maximized:!1,left:"",top:"",width:"",height:"",zIndex:J}),C={left:0,top:0,width:0,height:0,inited:!1},x={clickX:0,clickY:0,direction:""};function V(){p.pinned||(p.zIndex=is(p.zIndex))}function se(){p.minimized=!p.minimized,p.maximized&&(p.maximized=!1),V()}function Ce(){p.maximized=!p.maximized,p.minimized&&(p.minimized=!1),p.maximized||M(),V()}function ge(){let R=!p.pinned;if(!R){if(!C.inited){let k=s.value.offsetLeft,B=s.value.offsetTop;if(n.position==="fixed"){let H=s.value.offsetParent;for(;H;)k+=H.offsetLeft,B+=H.offsetTop,H=H.offsetParent}C.left=k,C.top=B,C.width=s.value.offsetWidth,C.height=s.value.offsetHeight}p.left=C.left+"px",p.top=C.top+"px",p.width=C.width+"px",p.height=C.height+"px"}p.pinned=R,Le(()=>{M()}),V()}function Te(R){x.clickX=R.pageX,x.clickY=R.pageY,C.inited=!0,C.left=s.value.offsetLeft,C.top=s.value.offsetTop,C.width=s.value.offsetWidth,p.minimized||(C.height=s.value.offsetHeight)}function ke(){C.left=s.value.offsetLeft,C.top=s.value.offsetTop,C.width=s.value.offsetWidth,p.minimized||(C.height=s.value.offsetHeight),document.removeEventListener("mousemove",$e),document.removeEventListener("mousemove",Me),document.removeEventListener("mouseup",ke)}function Ae(R){p.pinned||p.maximized||(Te(R),document.addEventListener("mousemove",$e),document.addEventListener("mouseup",ke))}function $e(R){const[k,B]=[R.pageX-x.clickX,R.pageY-x.clickY];p.left=(C.left+k<0?0:C.left+k)+"px",p.top=(C.top+B<0?0:C.top+B)+"px"}function fe(R,k){p.pinned||(R.preventDefault(),Te(R),x.direction=k,document.addEventListener("mousemove",Me),document.addEventListener("mouseup",ke))}function Me(R){if(x.direction==="")return;const[k,B]=[R.pageX-x.clickX,R.pageY-x.clickY],H=()=>{C.height-B<Y||(p.height=C.height-B+"px",p.top=C.top+B+"px")},K=()=>{C.height+B<Y||(p.height=C.height+B+"px")},d=()=>{C.width-k<Y||(p.width=C.width-k+"px",p.left=C.left+k+"px")},S=()=>{C.width+k<Y||(p.width=C.width+k+"px")};x.direction==="e"?S():x.direction==="ne"?(H(),S()):x.direction==="nw"?(H(),d()):x.direction==="n"?H():x.direction==="se"?(K(),S()):x.direction==="sw"?(K(),d()):x.direction==="s"?K():x.direction==="w"&&d()}function M(){p.pinned||p.maximized||n.position==="absolute"||(C.top>=window.innerHeight-200&&(C.top=window.innerHeight-200),C.left>=window.innerHeight-200&&(C.left=window.innerHeight-200),p.top=C.top+"px",p.left=C.left+"px")}return e({avoidOutOfBound:M}),(R,k)=>(h(),f("div",{class:"__g-window",ref_key:"windowRef",ref:s,style:Ee(y(p).maximized?{top:0,bottom:0,left:0,right:0,position:"fixed",zIndex:y(p).zIndex}:y(p).pinned?y(p).minimized?ct(ut({},t.defaultStyle),{height:"28px"}):t.defaultStyle:{width:y(p).width,height:y(p).minimized?"28px":y(p).height,top:y(p).top,left:y(p).left,position:t.position,zIndex:y(p).zIndex,boxShadow:"0 0 8px gray"})},[c("div",{class:"__g-window-bar",ref_key:"barRef",ref:o},[c("span",ls,$(t.title),1),c("span",{class:"__g-window-bar-button",ref_key:"minimizeBtn",ref:l,onClick:k[0]||(k[0]=B=>se())},[Z(c("img",rs,null,512),[[oe,!y(p).minimized]]),Z(c("img",us,null,512),[[oe,y(p).minimized]])],512),c("span",{class:"__g-window-bar-button",ref_key:"maximizeBtn",ref:i,onClick:k[1]||(k[1]=B=>Ce())},[Z(c("img",cs,null,512),[[oe,!y(p).maximized]]),Z(c("img",ds,null,512),[[oe,y(p).maximized]])],512),c("span",{class:"__g-window-bar-button",ref_key:"pinBtn",ref:a,onClick:k[2]||(k[2]=B=>ge())},[Z(c("img",{width:"16",height:"16",src:ns,alt:"pin",style:Ee(y(p).pinned?{}:{transform:"rotate(-45deg)"})},null,4),[[oe,!y(p).maximized]])],512)],512),c("div",{class:"__g-window-inner",ref_key:"innerRef",ref:r},[Gt(R.$slots,"default")],512),Z(c("div",{class:"__g-window-resize-area-n",ref_key:"resizeAreaN",ref:u},null,512),[[oe,!y(p).pinned&&!y(p).minimized&&!y(p).maximized]]),Z(c("div",{class:"__g-window-resize-area-s",ref_key:"resizeAreaS",ref:v},null,512),[[oe,!y(p).pinned&&!y(p).minimized&&!y(p).maximized]]),Z(c("div",{class:"__g-window-resize-area-e",ref_key:"resizeAreaE",ref:m,style:Ee(y(p).minimized?{top:0,bottom:0}:{})},null,4),[[oe,!y(p).pinned&&!y(p).maximized]]),Z(c("div",{class:"__g-window-resize-area-w",ref_key:"resizeAreaW",ref:L,style:Ee(y(p).minimized?{top:0,bottom:0}:{})},null,4),[[oe,!y(p).pinned&&!y(p).maximized]]),Z(c("div",{class:"__g-window-resize-area-ne",ref_key:"resizeAreaNE",ref:P},null,512),[[oe,!y(p).pinned&&!y(p).minimized&&!y(p).maximized]]),Z(c("div",{class:"__g-window-resize-area-nw",ref_key:"resizeAreaNW",ref:D},null,512),[[oe,!y(p).pinned&&!y(p).minimized&&!y(p).maximized]]),Z(c("div",{class:"__g-window-resize-area-se",ref_key:"resizeAreaSE",ref:z},null,512),[[oe,!y(p).pinned&&!y(p).minimized&&!y(p).maximized]]),Z(c("div",{class:"__g-window-resize-area-sw",ref_key:"resizeAreaSW",ref:j},null,512),[[oe,!y(p).pinned&&!y(p).minimized&&!y(p).maximized]])],4))}});const fs={class:"__g-loading-mask"},ps={class:"__g-loading"},ms=c("svg",{class:"__g-loading-svg"},[c("circle",{class:"__g-loading-circle",cx:"22",cy:"22",r:"20"})],-1),gs={class:"__g-loading-text"},_s={key:1},Vt=ae({props:{text:null},setup(t){return(e,n)=>(h(),f("div",fs,[c("div",ps,[ms,c("div",gs,[Array.isArray(t.text)?(h(!0),f(F,{key:0},Q(t.text,s=>(h(),f("div",null,$(s),1))),256)):(h(),f("div",_s,$(t.text),1))])])]))}});const vs={rule:{type:Object,required:!0},index:{type:Number}},ys=ae({props:vs,setup(t,e){}}),ws=t=>(Pe("data-v-4f52f305"),t=t(),xe(),t),Ss={class:"rule-line"},Ls={key:0,class:"rule-index"},ks={class:"rule-item"},bs={class:"rule-symbol non-terminal"},Ts=ws(()=>c("span",{class:"rule-symbol rule-arrow"},"\u2192",-1));function Es(t,e,n,s,o,r){var l;return h(),f("div",Ss,[t.index!==void 0?(h(),f("span",Ls,"("+$(t.index)+")",1)):W("",!0),c("div",ks,[c("span",bs,$(t.rule.origin.name),1),Ts,(h(!0),f(F,null,Q((l=t.rule)==null?void 0:l.expansion,i=>(h(),f("span",{class:q(["rule-symbol",i.isTerm?"terminal":"non-terminal"])},$(i.name),3))),256))])])}var Wt=ue(ys,[["render",Es],["__scopeId","data-v-4f52f305"]]);const Pt=[["#f1f3ef","#a81e32"],["#fdf2f7","#e77671"],["#acbeac","#e94829"],["#fcf6e8","#e6653a"],["#f0ecea","#d05667"],["#fef5f5","#962832"],["#f4f8e9","#e31b13"],["#f2f4fa","#22406a"],["#a1d4bd","#382c77"],["#ccccb8","#004ea2"],["#e6efc3","#137fa0"],["#fdece9","#a1d4bd"],["#f2f0eb","#758e61"],["#faf8d0","#62be9d"],["#faf6b7","#47b897"],["#eff8fe","#a8cd34"],["#fcefe8","#21a675"],["#ffed95","#c36625"],["#fdf8f0","#eab946"],["#f5fbfe","#4e606c"],["#bacac6","#3f545b"],["#c8d0d2","#655756"],["#f9f9fb","#382f41"],["#dedcdf","#370708"],["#dae5f5","#874154"],["#efc5b4","#564163"],["#eef0f1","#c1a1ca"],["#fff8d9","#5c1028"],["#fce1d6","#aaa1ce"]],Rs=["#f5f5f5","#d3d3d3"],xt=new Map;let Ct=0;function As(t){let e=xt.get(t.type);return e!==void 0||(e=Pt[Ct%Pt.length],Ct++,xt.set(t.type,e)),e}const $s={tokenLine:{type:Array,required:!0,default:[]},lineNo:{type:Number,required:!0},wrap:{type:Boolean,default:!1},tokenContent:{type:Boolean,default:!0}},Is=ae({props:$s,setup(t,e){const n=E([]);return t.tokenLine.forEach(s=>{let o=As(s),r={token:s,active:!0,color:o};n.value.push(r)}),{tagList:n,inactiveColor:Rs}}}),Yt=t=>(Pe("data-v-abc11f12"),t=t(),xe(),t),Ps={class:"token-line-no"},xs=Yt(()=>c("span",null,"(",-1)),Cs={class:"non-terminal"},Ms=Yt(()=>c("span",null,")",-1));function Os(t,e,n,s,o,r){return h(),f("div",{class:q(["token-line",[t.wrap?"token-line-wrap":""]])},[c("span",Ps,$(t.lineNo),1),c("div",{class:q(["token-line-item",[t.wrap?"token-line-item-wrap":""]])},[(h(!0),f(F,null,Q(t.tagList,l=>(h(),f("div",{class:"token-tag",style:Ee(l.active?{backgroundColor:l.color[0],color:l.color[1],borderColor:l.color[1]}:{backgroundColor:t.inactiveColor[0],color:t.inactiveColor[1],borderColor:t.inactiveColor[1]})},[c("span",{class:q(l.token.symbol.isTerm?"terminal":"non-terminal")},$(l.token.symbol.name),3),t.tokenContent&&l.token.symbol.name!==l.token.value?(h(),f(F,{key:0},[xs,c("span",Cs,$(l.token.value),1),Ms],64)):W("",!0)],4))),256))],2)],2)}var Ns=ue(Is,[["render",Os],["__scopeId","data-v-abc11f12"]]);const nt={};let Ds=0;const ie={async publish(t,e,...n){console.log("PUBLISH: "+t+"/"+e);const s=nt[t];if(!s)return;const o=s[e];if(!o)return;let r=[];for(let l in o)r.push(o[l](...n));return Promise.all(r)},subscribe(t,e,n){nt[t]||(nt[t]={});const s=nt[t];s[e]||(s[e]={});const o=s[e],r=Ds++;o[r]=n;function l(){delete o[r],Object.keys(o).length===0&&delete s[e]}return l}};const zs=ae({components:{GRadioButtonGroup:Rn,GButton:be,GTextarea:Mn,GArrow:Gn,GSwitch:Ft,RuleLine:Wt,TokenLine:Ns},setup(){const{t}=Ze({useScope:"global"}),e=nn(),n=sn(),s=Qe(),o=E(""),r=E(""),l=["LR0","LR1","LR1_LALR1"],i=E("LR0"),a=E(!0),u=E([]),v=E([]),m=E(!1);on(i,J=>{s.algorithm=J,e.replace({query:{a:s.algorithm}})}),l.includes(n.query.a)&&(i.value=n.query.a);function L(){Sn(i.value,o.value,r.value,a.value);const J=et();m.value=!0,u.value=J.store.rules,v.value=J.store.tokens,D(),s.showControlPanel=!0,s.showAutomaton=!0,Le(()=>{var p;(p=document.getElementById("automaton"))==null||p.scrollIntoView({behavior:"smooth"})})}const P=E([]);function D(){let J=1,p=[];v.value.forEach(C=>{C.line>J&&(P.value.push(p),p=[],J++),p.push(C)}),p.length>0&&P.value.push(p)}const z=E(!1);function j(){z.value=!z.value}const Y=E(!0);function ne(){o.value="",r.value="",u.value=[],v.value=[],P.value=[],m.value=!1,s.$reset(),s.algorithm=i.value}const ce=[ie.subscribe("lr","Reset",ne)];return Ve(()=>ce.forEach(J=>J())),{t,parse:L,replaceTerminalName:a,grammar:o,text:r,algos:l,algorithm:i,ruleList:u,tokenLineList:P,started:m,tokenLineWrap:z,changeTokenLineWrap:j,showTokenContent:Y}}}),Bs=t=>(Pe("data-v-1d4e5c0d"),t=t(),xe(),t),Gs={class:"panel-container"},Hs={class:"control-panel"},Fs=["href"],Us=Bs(()=>c("i",{class:"bi bi-question-circle",style:{color:"gray","font-size":"12px","margin-left":"4px"}},null,-1)),Vs=[Us],Ws={key:0,class:"input-panel"},Ys={class:"grammar-input panel-item"},Xs={class:"text-input panel-item"},qs={key:1,class:"token-rule-panel"},js={class:"rule-panel panel-item"},Ks={class:"token-panel panel-item"},Zs={class:"token-line-check"};function Qs(t,e,n,s,o,r){const l=de("GRadioButtonGroup"),i=de("GSwitch"),a=de("GButton"),u=de("GTextarea"),v=de("RuleLine"),m=de("TokenLine");return h(),f("div",Gs,[c("div",Hs,[t.started?W("",!0):(h(),f(F,{key:0},[te(l,{modelValue:t.algorithm,"onUpdate:modelValue":e[0]||(e[0]=L=>t.algorithm=L),options:t.algos},null,8,["modelValue","options"]),c("div",null,[te(i,{modelValue:t.replaceTerminalName,"onUpdate:modelValue":e[1]||(e[1]=L=>t.replaceTerminalName=L),"active-text":t.t("LR.InputPanel.NameCharacter"),"inactive-text":t.t("LR.InputPanel.KeepCharacter")},null,8,["modelValue","active-text","inactive-text"]),c("a",{href:t.t("GuideURLs.NameCharacter"),target:"_blank"},Vs,8,Fs)]),te(a,{onClick:e[2]||(e[2]=L=>t.parse()),type:"success"},{default:me(()=>[ye($(t.t("LR.InputPanel.ParseButton")),1)]),_:1})],64))]),t.started?W("",!0):(h(),f("div",Ws,[c("div",Ys,[te(u,{class:"input-textarea",resize:"none",modelValue:t.grammar,"onUpdate:modelValue":e[3]||(e[3]=L=>t.grammar=L),placeholder:t.t("LR.InputPanel.GrammarPlaceholder")},null,8,["modelValue","placeholder"])]),c("div",Xs,[te(u,{class:"input-textarea",resize:"none",modelValue:t.text,"onUpdate:modelValue":e[4]||(e[4]=L=>t.text=L),placeholder:t.t("LR.InputPanel.TextPlaceholder")},null,8,["modelValue","placeholder"])])])),t.started?(h(),f("div",qs,[c("div",js,[(h(!0),f(F,null,Q(t.ruleList,(L,P)=>(h(),ve(v,{class:"rule-line",rule:L,index:P},null,8,["rule","index"]))),256))]),c("div",Ks,[c("div",Zs,[Z(c("input",{type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=L=>t.tokenLineWrap=L)},null,512),[[Et,t.tokenLineWrap]]),c("label",null,$(t.t("LR.InputPanel.WordWrap")),1),Z(c("input",{type:"checkbox","onUpdate:modelValue":e[6]||(e[6]=L=>t.showTokenContent=L)},null,512),[[Et,t.showTokenContent]]),c("label",null,$(t.t("LR.InputPanel.TokenContent")),1)]),c("div",{class:q(["token-line-container",[t.tokenLineWrap?"token-line-container-wrap":""]])},[(h(!0),f(F,null,Q(t.tokenLineList,(L,P)=>(h(),ve(m,{class:"token-line","token-line":L,lineNo:P+1,wrap:t.tokenLineWrap,"token-content":t.showTokenContent},null,8,["token-line","lineNo","wrap","token-content"]))),256))],2)])])):W("",!0)])}var Js=ue(zs,[["render",Qs],["__scopeId","data-v-1d4e5c0d"]]);const Xt=t=>(Pe("data-v-2c28af46"),t=t(),xe(),t),eo={class:"control-panel"},to={class:"control-panel-group"},no=Xt(()=>c("span",{class:"non-terminal"},"I",-1)),so={class:"non-terminal"},oo={class:"control-panel-group"},ao=["href"],io=Xt(()=>c("i",{class:"bi bi-question-circle",style:{color:"gray","font-size":"12px"}},null,-1)),lo=[io],ro={key:2,class:"control-panel-group"},uo={key:3},co=ae({setup(t){const{t:e}=Ze({useScope:"global"}),n=Qe(),s=he(()=>n.manual);function o(){n.manual=!n.manual}const r=et(),l=he(()=>n.currentStateId),i=he(()=>n.algorithm),a=E(0),u=E(0),v=he(()=>s.value||!n.stateFlags[l.value].closureDone&&a.value===0),m=he(()=>{const x=n.stateFlags[l.value];return s.value||x.closureDone&&!x.appended&&a.value===0}),L=he(()=>!s.value&&a.value===2);async function P(){const x=r.automaton.CalcStateClosure(l.value,i.value);(i.value==="LR1"||i.value==="LR1_LALR1")&&r.automaton.MergeLookaheads(l.value),n.stateFlags[l.value].closureDone=!0,await ie.publish("lr","State"+l.value+"Closure",x)}async function D(){const x=r.automaton.AppendStates(l.value);await ie.publish("lr","AutomatonAppendStates",x),s.value||(n.stateFlags[l.value].active=!1,z()?n.stateFlags[l.value].active=!0:i.value==="LR0"||i.value==="LR1"?a.value=2:a.value=1)}function z(){let x=l.value+1;for(;;){if(x>=r.automaton.states.length)return!1;let V=r.automaton.states[x];if(V===void 0){++x;continue}if(!(V.closureDone&&V.appended))break;x++}return n.currentStateId=x,!0}async function j(){n.automatonLoading=!0,setTimeout(async()=>{for(;a.value===0;){const x=n.stateFlags[l.value];x.closureDone||await P(),x.appended||await D()}a.value===1&&await Y(),n.automatonLoading=!1})}async function Y(){const x=r.automaton.mergeLr1();await ie.publish("lr","AutomatonMergeLr1States",x),a.value=2}function ne(){r.parseTable.calc(),u.value=1,n.showParseTable=!0,Le(()=>{var x;(x=document.getElementById("parsetable"))==null||x.scrollIntoView({behavior:"smooth"})})}function ce(){u.value=2,n.showParseTree=!0,Le(()=>{var x;(x=document.getElementById("parsetree"))==null||x.scrollIntoView({behavior:"smooth"})})}function J(){const x=r.parseByStep();ie.publish("lr","ParseTreeStep",x),ie.publish("lr","ParseTableHighlight",x.actionSource),ie.publish("lr","AutomatonStatesPath",x),r.done&&(u.value=3)}function p(){for(;!r.done;)J()}function C(){ie.publish("lr","Reset")}return(x,V)=>(h(),f("div",eo,[u.value===0?(h(),f(F,{key:0},[a.value===0?(h(),f(F,{key:0},[c("div",to,[c("div",null,[ye($(y(e)("LR.ControlPanel.CurrentState"))+" ",1),no,c("sub",so,$(y(l)),1)]),Z(te(y(be),{type:"success",onClick:V[0]||(V[0]=se=>P())},{default:me(()=>[ye($(y(e)("LR.ControlPanel.CalcualteClosure")),1)]),_:1},512),[[oe,y(v)]]),Z(te(y(be),{type:"success",onClick:V[1]||(V[1]=se=>D())},{default:me(()=>[ye($(y(e)("LR.ControlPanel.AppendStates")),1)]),_:1},512),[[oe,y(m)]]),Z(te(y(be),{type:"info",onClick:V[2]||(V[2]=se=>j())},{default:me(()=>[ye($(y(e)("LR.ControlPanel.Skip")),1)]),_:1},512),[[oe,!y(s)]])]),c("div",oo,[c("span",null,[ye($(y(e)("LR.ControlPanel.ManualMode"))+" ",1),c("a",{href:y(e)("GuideURLs.ManualMode"),target:"_blank"},lo,8,ao)]),te(y(Ft),{"model-value":y(s),onChange:o,disabled:y(s)},null,8,["model-value","disabled"])])],64)):W("",!0),a.value===1?(h(),ve(y(be),{key:1,type:"info",onClick:V[3]||(V[3]=se=>Y())},{default:me(()=>[ye($(y(e)("LR.ControlPanel.MergeLR1")),1)]),_:1})):W("",!0),a.value===2?Z((h(),ve(y(be),{key:2,type:"info",onClick:V[4]||(V[4]=se=>ne())},{default:me(()=>[ye($(y(e)("LR.ControlPanel.CalculateParseTable")),1)]),_:1},512)),[[oe,y(L)]]):W("",!0)],64)):W("",!0),u.value===1?(h(),ve(y(be),{key:1,type:"info",onClick:V[5]||(V[5]=se=>ce())},{default:me(()=>[ye($(y(e)("LR.ControlPanel.StartParse")),1)]),_:1})):W("",!0),u.value===2?(h(),f("div",ro,[te(y(be),{type:"success",onClick:V[6]||(V[6]=se=>J())},{default:me(()=>[ye($(y(e)("LR.ControlPanel.ParseStep")),1)]),_:1}),te(y(be),{type:"info",onClick:V[7]||(V[7]=se=>p())},{default:me(()=>[ye($(y(e)("LR.ControlPanel.Skip")),1)]),_:1})])):W("",!0),u.value===3?(h(),f("span",uo,$(y(e)("LR.ControlPanel.Finish")),1)):W("",!0),te(y(be),{onClick:V[8]||(V[8]=se=>C()),type:"error"},{default:me(()=>[ye($(y(e)("LR.ControlPanel.Reset")),1)]),_:1})]))}});var ho=ue(co,[["__scopeId","data-v-2c28af46"]]);const fo=ae({props:{lrItem:{type:Object,required:!0}},setup(){}}),qt=t=>(Pe("data-v-42889209"),t=t(),xe(),t),po={class:"lr-item"},mo={class:"lr-item-symbol non-terminal"},go=qt(()=>c("span",{class:"lr-item-arrow"},"\u2192",-1)),_o={key:0,class:"lr-item-dot"},vo={key:0,class:"lr-item-dot"},yo=qt(()=>c("span",{class:"lr-item-comma"},",",-1)),wo={class:"lr-item-symbol terminal"},So={key:0,class:"lr-item-lookahead-sep"};function Lo(t,e,n,s,o,r){return h(),f("div",po,[c("span",mo,$(t.lrItem.rule.origin.name),1),go,t.lrItem.index===0?(h(),f("span",_o,"\u25CF")):W("",!0),(h(!0),f(F,null,Q(t.lrItem.rule.expansion,(l,i)=>(h(),f(F,null,[c("span",{class:q(["lr-item-symbol",l.isTerm?"terminal":"non-terminal"])},$(l.name),3),i+1===t.lrItem.index?(h(),f("span",vo,"\u25CF")):W("",!0)],64))),256)),t.lrItem.lookahead.size>0?(h(),f(F,{key:1},[yo,(h(!0),f(F,null,Q(t.lrItem.lookahead,(l,i)=>(h(),f(F,null,[c("span",wo,$(l.name),1),i!==t.lrItem.lookahead.size-1?(h(),f("span",So,"/")):W("",!0)],64))),256))],64)):W("",!0)])}var ko=ue(fo,[["render",Lo],["__scopeId","data-v-42889209"]]);const bo=ae({props:{state:{type:Object,required:!0},stateItemData:{type:Object,required:!0}},emits:["updateState"],components:{LrItemComponent:ko},setup(t,e){const n=Qe();n.stateFlags[t.state.id].closureDone=t.state.closureDone,n.stateFlags[t.state.id].appended=t.state.appended;const s=E(),o=E([]),r=E([]),l=he(()=>n.stateFlags[t.state.id].active),i=he(()=>n.stateFlags[t.state.id].appended),a=E(-1);t.state.kernel.forEach(Y=>{o.value.push(Y)});function u(Y,ne=!0){a.value++,Y.forEach(ce=>{r.value.push(ce)}),Y.length!==0&&ne&&e.emit("updateState",t.state.id)}const v=E(0);function m(Y){o.value=[...Y.kernel],r.value=[...Y.closure],r.value.splice(0,o.value.length),v.value++}function L(Y){o.value=[...Y.kernel],r.value=[...Y.closure],r.value.splice(0,o.value.length),Le(()=>{e.emit("updateState",t.state.id,!0)})}const P=E(0),D=E([]);async function z(Y){var ne;D.value.push(Y),P.value++,(ne=s.value)==null||ne.classList.add("state-merged"),await Le(),e.emit("updateState",t.state.id,!1)}const j=[ie.subscribe("lr","State"+t.state.id+"ClosureStep",u),ie.subscribe("lr","State"+t.state.id+"MergeLookaheads",m),ie.subscribe("lr","State"+t.state.id+"Closure",L),ie.subscribe("lr","State"+t.state.id+"MergeLr1",z)];return Ve(()=>{j.forEach(Y=>Y())}),{stateContainerRef:s,kernel:o,closureExceptKernel:r,currentItem:a,active:l,done:i,updateClosureKey:v,updateStateKey:P,mergeFromList:D}}}),We=t=>(Pe("data-v-9038d6ec"),t=t(),xe(),t),To={class:"state-id"},Eo=We(()=>c("span",{class:"non-terminal"},"I",-1)),Ro={class:"terminal"},Ao=We(()=>c("span",null,"\xA0(",-1)),$o=We(()=>c("span",{class:"non-terminal"},"I",-1)),Io={class:"terminal"},Po={key:0},xo=We(()=>c("span",null,")",-1)),Co={key:0,class:"state-accept"},Mo=We(()=>c("svg",{class:"accept-svg",width:"10",height:"15"},[c("polyline",{class:"accept-arrow",points:"5,0 5,12 0,7 5,12 10,7"})],-1)),Oo=We(()=>c("div",{class:"terminal",style:{"line-height":"12px"}},"accept",-1)),No=[Mo,Oo];function Do(t,e,n,s,o,r){const l=de("LrItemComponent");return h(),f("div",{class:q(["state-container",[t.active?"state-active":"",t.done?"state-done":"",t.stateItemData.highlight==="normal"?"":"state-highlight-"+t.stateItemData.highlight]]),ref:"stateContainerRef"},[c("div",To,[Eo,c("sub",Ro,$(t.state.id),1),t.mergeFromList.length!==0?(h(),f(F,{key:0},[Ao,(h(!0),f(F,null,Q(t.mergeFromList,(i,a)=>(h(),f(F,null,[$o,c("sub",Io,$(i),1),a!==t.mergeFromList.length-1?(h(),f("span",Po,",")):W("",!0)],64))),256)),xo],64)):W("",!0)]),(h(),f("div",{class:"state-kernel",key:t.updateStateKey},[(h(!0),f(F,null,Q(t.kernel,(i,a)=>(h(),ve(l,{class:q([!t.done&&a===t.currentItem?"lr-item-calcualting":"","lr-item"]),"lr-item":i},null,8,["class","lr-item"]))),256))])),(h(),f("div",{class:"state-closure",key:t.updateClosureKey+t.updateStateKey},[(h(!0),f(F,null,Q(t.closureExceptKernel,(i,a)=>(h(),ve(l,{class:q([!t.done&&a===t.currentItem-t.kernel.length?"lr-item-calcualting":"","lr-item"]),"lr-item":i},null,8,["class","lr-item"]))),256))])),t.state.end?(h(),f("div",Co,No)):W("",!0)],2)}var zo=ue(bo,[["render",Do],["__scopeId","data-v-9038d6ec"]]);const mt=16,gt=8,_t=16,Xe=8,Se=12,re=48,qe=32,Bo=4,vt=Se/2;function Mt(t,e,n,s){return{state:t,top:e,left:n,column:s,linesIn:[],linesToLeft:[],linesToRight:[],linesToSameColumn:[],linesToSelf:[],hidden:!1,merged:!1,highlight:"normal"}}function Ot(t){return{stateIds:t===void 0?[]:t,left:0,height:re,width:re,linesPassByRight:[],linesPassByLeft:[],linesPassByBottom:[]}}let Nt=-1;function je(t,e,n,s){return++Nt,{id:Nt,symbol:t,from:e,to:n,type:s,points:[[0,0]],hidden:!1,highlight:"normal"}}const Go=ae({components:{StateItem:zo,GLoading:Vt},setup(){const{t}=Ze({useScope:"global"}),e=Qe(),n=et(),s=he(()=>e.automatonLoading),o=new Map,r=E(0),l=E(0),i=E(new Map),a=E(new Map),u=[];function v(d){e.stateFlags[d]={active:!1,closureDone:!1,appended:!1}}function m(){const d=n.automaton.states[0];i.value.set(d.id,Mt(d,0,0,0)),u.push(Ot([d.id])),Le(()=>{const S=o.get(0);u[0].width=S.offsetWidth,u[0].height=S.offsetHeight})}m();async function L(d,S){let w=i.value.get(d).column,b=u[w],g=0;for(;g<b.stateIds.length&&b.stateIds[g]!==d;g++);let I=o.get(d),A=I.offsetTop+I.offsetHeight;for(g+=1;g<b.stateIds.length;g++){let G=o.get(b.stateIds[g]),O=i.value.get(b.stateIds[g]);O.top=A+qe,A+=qe+G.offsetHeight}b.width=Math.max(b.width,I.offsetWidth),b.height=A,r.value=Math.max(r.value,b.height+re+Se*b.linesPassByBottom.length),l.value=Math.max(l.value,b.left+b.width+re+Se*b.linesPassByRight.length),S&&await D(w+1)}async function P(d){e.stateFlags[d.from].appended=!0;let S=i.value.get(d.from).column,w=u[S],b=S+1,g=u[b];g===void 0&&(g=Ot(),u.push(g));let I=[],A=[],G=[],O=[],_e=b;d.targets.forEach(N=>{if(i.value.has(N.state.id)){let U=i.value.get(N.state.id).column;_e=Math.min(_e,U),U<S?I.push(N):U>S?A.push(N):N.state.id===d.from?O.push(N):G.push(N)}else v(N.state.id),i.value.set(N.state.id,Mt(N.state,0,0,b)),g.stateIds.push(N.state.id),A.push(N)});let le=[];for(let N=0;N<A.length;N++){let U=je(A[N].symbol,d.from,A[N].state.id,"Right");a.value.set(U.id,U),i.value.get(U.from).linesToRight.push(U.id),i.value.get(U.to).linesIn.push(U.id),le.push(U.id)}w.linesPassByRight.push(...le.reverse());for(let N=0;N<I.length;N++){let U=je(I[N].symbol,d.from,I[N].state.id,"Left");a.value.set(U.id,U);let Ye=i.value.get(U.from),Oe=i.value.get(U.to);Ye.linesToLeft.push(U.id),Oe.linesIn.push(U.id),w.linesPassByRight.push(U.id);for(let lt=Ye.column;lt>=Oe.column;lt--)u[lt].linesPassByBottom.push(U.id);u[Oe.column].linesPassByLeft.push(U.id)}le=[];for(let N=0;N<G.length;N++){let U=je(G[N].symbol,d.from,G[N].state.id,"SameColumn");a.value.set(U.id,U),i.value.get(U.from).linesToSameColumn.push(U.id),i.value.get(U.to).linesIn.push(U.id),le.push(U.id)}if(w.linesPassByLeft.push(...le.reverse()),O.length!==0){let N=je(O[0].symbol,d.from,d.from,"Self");a.value.set(N.id,N),i.value.get(N.from).linesToSelf.push(N.id)}let pe=re*2+Se*Math.max(w.linesPassByRight.length,g.linesPassByLeft.length),we=-qe;g.left=w.left+w.width+pe;for(let N=0;N<g.stateIds.length;N++){let U=g.stateIds[N],Ye=i.value.get(U);Ye.left=g.left,Ye.top=we+qe,await Le();let Oe=o.get(U);we=Oe.offsetTop+Oe.offsetHeight,g.width=Math.max(g.width,Oe.offsetWidth)}r.value=Math.max(r.value,we),l.value=Math.max(l.value,g.left+g.width),g.height=we,await D(_e)}async function D(d){for(let b=d;b<u.length;b++){let g=re*2+Se*Math.max(u[b-1].linesPassByRight.length,u[b].linesPassByLeft.length),I=u[b-1].left+u[b-1].width+g,A=I-u[b].left;A!==0&&(u[b].left+=A,u[b].stateIds.forEach(G=>{i.value.get(G).left=I}))}await Le();const S=u[u.length-1];l.value=Math.max(l.value,S.left+S.width+re+Se*S.linesPassByRight.length);const w=[];return a.value.forEach((b,g)=>w.push(z(g))),Promise.all(w)}async function z(d){let S=a.value.get(d),w=i.value.get(S.from),b=i.value.get(S.to),g=o.get(S.from),I=o.get(S.to),A=[];if(S.type==="Right"){let G=g.offsetLeft+g.offsetWidth,O=g.offsetTop+_t+mt*w.linesToRight.indexOf(d),_e=I.offsetLeft,le=I.offsetTop+Xe+gt*b.linesIn.indexOf(d),pe=u[w.column].left+u[w.column].width+re+Se*u[w.column].linesPassByRight.indexOf(d);l.value=Math.max(l.value,pe+re),A.push([G,O]),A.push([pe,O]),A.push([pe,le]),A.push([_e,le])}else if(S.type==="Left"){let G=g.offsetLeft+g.offsetWidth,O=g.offsetTop+g.offsetHeight-_t-mt*w.linesToLeft.indexOf(d),_e=I.offsetLeft,le=I.offsetTop+Xe+gt*b.linesIn.indexOf(d),pe=u[w.column].left+u[w.column].width+re+Se*u[w.column].linesPassByRight.indexOf(d),we=_e-re-vt-Se*u[b.column].linesPassByLeft.indexOf(d),N=0;for(let U=w.column;U>=b.column;U--)N=Math.max(N,u[U].height+re+Se*u[U].linesPassByBottom.indexOf(d));l.value=Math.max(l.value,pe+re),r.value=Math.max(r.value,N+re),A.push([G,O]),A.push([pe,O]),A.push([pe,N]),A.push([we,N]),A.push([we,le]),A.push([_e,le])}else if(S.type==="SameColumn"){let G=g.offsetLeft,O=g.offsetTop+g.offsetHeight-Xe-mt*(w.linesToSameColumn.indexOf(d)+1),_e=G,le=I.offsetTop+Xe+gt*b.linesIn.indexOf(d),pe=G-re-vt-Se*u[w.column].linesPassByLeft.indexOf(d);A.push([G,O]),A.push([pe,O]),A.push([pe,le]),A.push([_e,le])}else{let G=g.offsetLeft,O=g.offsetTop+g.offsetHeight-Xe,_e=g.offsetLeft+_t,le=g.offsetTop+g.offsetHeight,pe=G-re+vt,we=le+qe/2;r.value=Math.max(r.value,we+re),A.push([G,O]),A.push([pe,O]),A.push([pe,we]),A.push([_e,we]),A.push([_e,le])}return S.points=A,Le()}function j(d){const S=a.value.get(d),w=i.value.get(S.from),b=i.value.get(S.to),g=u[w.column],I=u[b.column];if(S.type==="Left"){g.linesPassByRight.splice(g.linesPassByRight.indexOf(d),1),I.linesPassByLeft.splice(I.linesPassByLeft.indexOf(d),1);for(let A=b.column;A<=w.column;A++){const G=u[A];G.linesPassByBottom.splice(G.linesPassByBottom.indexOf(d),1)}w.linesToLeft.splice(w.linesToLeft.indexOf(d),1),b.linesIn.splice(b.linesIn.indexOf(d),1)}else S.type==="Right"?(g.linesPassByRight.splice(g.linesPassByRight.indexOf(d),1),w.linesToRight.splice(w.linesToRight.indexOf(d),1),b.linesIn.splice(b.linesIn.indexOf(d),1)):S.type==="SameColumn"?(g.linesPassByLeft.splice(g.linesPassByLeft.indexOf(d),1),w.linesToSameColumn.splice(w.linesToSameColumn.indexOf(d),1),b.linesIn.splice(b.linesIn.indexOf(d),1)):w.linesToSelf.splice(w.linesToSelf.indexOf(d),1);a.value.delete(d)}async function Y(d){d.mergeMap.forEach((w,b)=>{const g=i.value.get(b),I=function(A){for(;A.length>0;)j(A[A.length-1])};I(g.linesIn),I(g.linesToLeft),I(g.linesToRight),I(g.linesToSameColumn),I(g.linesToSelf),g.merged=!0}),d.transitionChanges.forEach((w,b)=>{w.forEach(g=>{let I=i.value.get(b),A=i.value.get(g.to);const G=je(g.symbol,b,g.to,I.column===A.column?"SameColumn":I.column<A.column?"Right":"Left");if(a.value.set(G.id,G),G.type==="Left"){I.linesToLeft.push(G.id),A.linesIn.push(G.id),u[I.column].linesPassByRight.push(G.id),u[A.column].linesPassByLeft.push(G.id);for(let O=A.column;O<=I.column;O++)u[O].linesPassByBottom.push(G.id)}else G.type==="Right"?(I.linesToRight.push(G.id),A.linesIn.push(G.id),u[I.column].linesPassByRight.push(G.id)):(I.linesToSameColumn.push(G.id),A.linesIn.push(G.id),u[I.column].linesPassByLeft.push(G.id))})});const S=[];d.mergeMap.forEach((w,b)=>{S.push(ie.publish("lr","State"+w+"MergeLr1",b))}),await Promise.all(S),await D(1)}const ne=[],ce=[];function J(d){if(ne.forEach(S=>{const w=i.value.get(S);w.highlight="normal"}),ce.forEach(S=>{const w=a.value.get(S);w.highlight="normal"}),ne.splice(0),ce.splice(0),d.action.name==="Shift"||d.action.name==="Goto"){const S=i.value.get(d.actionSource.stateId);S.highlight="green";const w=i.value.get(d.currentStateId);w.highlight="gold",ne.push(d.actionSource.stateId,d.currentStateId);for(let b=0;b<w.linesIn.length;b++){const g=a.value.get(w.linesIn[b]);if(g.from===d.actionSource.stateId){g.highlight="green",ce.push(w.linesIn[b]);break}}}else if(d.action.name==="Reduce"){const S=i.value.get(d.currentStateId);S.highlight="gold",ne.push(d.currentStateId);for(let w=d.stateStackDiff.length-1;w>=0;w--){const b=d.stateStackDiff[w],g=i.value.get(b);if(w>0)for(let I=0;I<g.linesIn.length;I++){const A=a.value.get(g.linesIn[I]);if(A.from===d.stateStackDiff[w-1]){A.highlight="brown",ce.push(g.linesIn[I]);break}}else for(let I=0;I<g.linesIn.length;I++){const A=a.value.get(g.linesIn[I]);A.from===d.currentStateId&&(A.highlight="brown",ce.push(g.linesIn[I]))}g.highlight="brown",ne.push(b)}}else{const S=i.value.get(d.currentStateId);S.highlight="gold",ne.push(d.currentStateId)}}const p=[ie.subscribe("lr","AutomatonAppendStates",P),ie.subscribe("lr","AutomatonMergeLr1States",Y),ie.subscribe("lr","AutomatonStatesPath",J)];Ve(()=>{p.forEach(d=>d())});function C(d){if(d.merged)return;i.value.forEach(w=>w.hidden=!0),a.value.forEach(w=>w.hidden=!0),d.hidden=!1;const S=function(w){w.forEach(b=>{let g=a.value.get(b);g.hidden=!1;let I=i.value.get(g.to);I.hidden=!1})};S(d.linesToLeft),S(d.linesToRight),S(d.linesToSameColumn),S(d.linesToSelf)}function x(d){d.merged||(i.value.forEach(S=>S.hidden=!1),a.value.forEach(S=>S.hidden=!1))}function V(d){i.value.forEach((S,w)=>{w===d.from||w===d.to||(S.hidden=!0)}),a.value.forEach((S,w)=>{w!==d.id&&(S.hidden=!0)})}function se(){i.value.forEach(d=>d.hidden=!1),a.value.forEach(d=>d.hidden=!1)}function Ce(d){!e.manual||d.merged||(Object.entries(e.stateFlags).forEach(S=>{Number.parseInt(S[0])===d.state.id?S[1].active=!0:S[1].active=!1}),e.currentStateId=d.state.id)}const ge=E();let Te=!1,ke=0,Ae=0,$e=0,fe=0;function Me(d){ke=d.pageX,Ae=d.pageY,fe=ge.value.scrollLeft,$e=ge.value.scrollTop,Te=!0,document.addEventListener("mousemove",M),document.addEventListener("mouseup",R)}function M(d){if(Te){let S=d.pageX-ke,w=d.pageY-Ae;ge.value.scrollLeft=fe-S,ge.value.scrollTop=$e-w}}function R(){Te=!1,fe=ge.value.scrollLeft,$e=ge.value.scrollTop,document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",R)}Ne(()=>{ge.value.addEventListener("mousedown",Me)});const k=E(!0);function B(){k.value=!k.value}const H=new Map;function K(){const{firstSet:d,nullable:S,SYMBOL_EPSILON:w}=n.getFirstSet();d.forEach((b,g)=>{if(g.isTerm)return;const I=Array.from(b);S.has(g)&&I.push(w),H.set(g,I)})}return e.algorithm!=="LR0"&&K(),{t,automatonLoading:s,stateItems:i,lineBlocks:a,displayPanel:ge,updateState:L,stateRefs:o,GAP_ARROW:Bo,totalHeight:r,totalWidth:l,handleStateMouseEnter:C,handleStateMouseLeave:x,handleLineMouseEnter:V,handleLineMouseLeave:se,handleStateClick:Ce,algorithm:e.algorithm,showFirstSetTable:k,changeShowFirstSetTable:B,firstSetWithNullable:H}}}),Ho={class:"automaton-display-panel",ref:"displayPanel"},Fo=["onMouseenter","onMouseleave","onClick"],Uo={style:{position:"absolute",top:"0",width:"100%",height:"100%"}},Vo=["onMouseenter"],Wo=["x","y"],Yo=["points"],Xo={key:0,class:"first-set-panel"},qo={class:"first-set-header"},jo={class:"first-set-table"},Ko={class:"first-set-row-l non-terminal"},Zo={class:"first-set-row-r terminal"},Qo={class:"first-set-symbol"};function Jo(t,e,n,s,o,r){const l=de("StateItem"),i=de("GLoading");return h(),f(F,null,[c("div",Ho,[c("div",{style:Ee({position:"relative",height:t.totalHeight+"px",width:t.totalWidth+"px"})},[(h(!0),f(F,null,Q(t.stateItems,a=>(h(),f("div",{key:a[0],ref_for:!0,ref:u=>{t.stateRefs.set(a[1].state.id,u)},style:Ee({position:"absolute",top:a[1].top+"px",left:a[1].left+"px"}),class:q([[a[1].hidden?"hidden":"",a[1].merged?"merged":""],"state-item-container"]),onMouseenter:u=>t.handleStateMouseEnter(a[1]),onMouseleave:u=>t.handleStateMouseLeave(a[1]),onClick:u=>t.handleStateClick(a[1])},[te(l,{state:a[1].state,"state-item-data":a[1],onUpdateState:t.updateState},null,8,["state","state-item-data","onUpdateState"])],46,Fo))),128)),(h(),f("svg",Uo,[(h(!0),f(F,null,Q(t.lineBlocks,a=>(h(),f("g",{key:a[0],class:q(a[1].hidden?"hidden":""),onMouseenter:u=>t.handleLineMouseEnter(a[1]),onMouseleave:e[0]||(e[0]=u=>t.handleLineMouseLeave())},[c("text",{class:q([a[1].symbol.isTerm?"terminal":"non-terminal",a[1].type==="SameColumn"||a[1].type==="Self"?"line-text-shift":"","line-text"]),x:a[1].points[0][0],y:a[1].points[0][1]},$(a[1].symbol.name),11,Wo),c("polyline",{points:a[1].points.join(" ")+" "+(a[1].type==="Self"?a[1].points[a[1].points.length-1][0]-t.GAP_ARROW+","+(a[1].points[a[1].points.length-1][1]+t.GAP_ARROW)+" "+a[1].points[a[1].points.length-1][0]+","+a[1].points[a[1].points.length-1][1]+" "+(a[1].points[a[1].points.length-1][0]+t.GAP_ARROW)+","+(a[1].points[a[1].points.length-1][1]+t.GAP_ARROW)+" ":a[1].points[a[1].points.length-1][0]-t.GAP_ARROW+","+(a[1].points[a[1].points.length-1][1]-t.GAP_ARROW)+" "+a[1].points[a[1].points.length-1][0]+","+a[1].points[a[1].points.length-1][1]+" "+(a[1].points[a[1].points.length-1][0]-t.GAP_ARROW)+","+(a[1].points[a[1].points.length-1][1]+t.GAP_ARROW)+" "),class:q(["state-goto-line",a[1].highlight==="normal"?"":"state-goto-line-highlight-"+a[1].highlight])},null,10,Yo)],42,Vo))),128))]))],4)],512),t.algorithm!=="LR0"?(h(),f("div",Xo,[c("div",qo,[c("span",null,$(t.t("LR.Automaton.FirstSet")),1),c("span",{class:"first-set-table-btn",onClick:e[1]||(e[1]=(...a)=>t.changeShowFirstSetTable&&t.changeShowFirstSetTable(...a))},$(t.showFirstSetTable?">":"<"),1)]),Z(c("div",jo,[(h(!0),f(F,null,Q(t.firstSetWithNullable,a=>(h(),f(F,null,[c("div",Ko,$(a[0].name),1),c("div",Zo,[(h(!0),f(F,null,Q(a[1],u=>(h(),f("span",Qo,$(u.name),1))),256))])],64))),256))],512),[[oe,t.showFirstSetTable]])])):W("",!0),t.automatonLoading?(h(),ve(i,{key:1,text:t.t("LR.Automaton.Calculating")},null,8,["text"])):W("",!0)],64)}var ea=ue(Go,[["render",Jo],["__scopeId","data-v-5b51fbdc"]]);const ta=ae({setup(){const t=E([]),e=E(new Map);let n;const s=et();s.parseTable.actionTable.forEach((u,v)=>{let m=[];const L=new Map;s.parseTable.actionHeader.forEach(P=>{let D=s.parseTable.actionTable.get(v).get(P),z;D===void 0?z={value:[],highlight:!1}:z={value:D,highlight:!1},m.push(z),L.set(P,z)}),s.parseTable.gotoHeader.forEach(P=>{let D=s.parseTable.gotoTable.get(v).get(P),z;D===void 0?z={value:[],highlight:!1}:z={value:D,highlight:!1},m.push(z),L.set(P,z)}),t.value.push([v,m]),e.value.set(v,L)});const o=s.parseTable.actionHeader.length,r=s.parseTable.gotoHeader.length,l=[...s.parseTable.actionHeader,...s.parseTable.gotoHeader];function i(u){n&&(e.value.get(n.stateId).get(n.symbol).highlight=!1),e.value.get(u.stateId).get(u.symbol).highlight=!0,n=u}const a=[ie.subscribe("lr","ParseTableHighlight",i)];return Ve(()=>a.forEach(u=>u())),{actionHeaderCnt:o,gotoHeaderCnt:r,header:l,data:t}}}),na=t=>(Pe("data-v-c98d5542"),t=t(),xe(),t),sa={class:"parse-table"},oa=na(()=>c("th",{rowspan:"2"},null,-1)),aa=["colspan"],ia=["colspan"],la={class:"non-terminal"},ra={key:0,class:"terminal"};function ua(t,e,n,s,o,r){return h(),f("table",sa,[c("tr",null,[oa,c("th",{class:"terminal",colspan:t.actionHeaderCnt},"ACTION",8,aa),c("th",{class:"terminal",colspan:t.gotoHeaderCnt},"GOTO",8,ia)]),c("tr",null,[(h(!0),f(F,null,Q(t.header,l=>(h(),f("th",{class:q([l.isTerm?"terminal":"non-terminal"])},$(l.name),3))),256))]),(h(!0),f(F,null,Q(t.data,l=>(h(),f("tr",null,[c("td",null,$(l[0]),1),(h(!0),f(F,null,Q(l[1],i=>(h(),f("td",{class:q([i.highlight?"grid-highlight":""])},[(h(!0),f(F,null,Q(i.value,(a,u)=>(h(),f("span",{class:q([u===0?"parse-action":"parse-action-unused"])},[c("span",la,$(a.abbr),1),a.name!=="Accept"?(h(),f("span",ra,$(a.arg),1)):W("",!0)],2))),256))],2))),256))]))),256))])}var ca=ue(ta,[["render",ua],["__scopeId","data-v-c98d5542"]]);const kt=ae({props:{mode:{type:String,default:"normal"},color1:{type:String,required:!0},color2:{type:String,required:!0}},setup(){const t=E([]),e=E([]);let n;const s=E(!1);function o(...a){s.value||(n=window.setTimeout(()=>{e.value.splice(0)},500)),s.value=!0,a.forEach(u=>t.value.push([Symbol(),u]))}function r(a){clearTimeout(n),e.value.splice(0),s.value=!1,e.value.push(...t.value.splice(-a,a))}const l=new Map;async function i(a,u){if(u===null){const P=l.get(a);P&&(clearInterval(P[1]),l.delete(a));return}if(l.get(a)!==void 0)return;await Le();const m=u.firstElementChild.offsetWidth-u.offsetWidth,L=function(P,D){let z=0;const j=15;return function(){z>=j+(D+1)+j+(D+1)&&(z=0),z<j||(z<j+(D+1)?P.style.transform="translateX(-"+(z-j)+"px)":z<j+(D+1)+j||z<j+(D+1)+j+(D+1)&&(P.style.transform="translateX(-"+(j+(D+1)+j+(D+1)-z-1)+"px)")),z++}};if(m>0){const P=window.setInterval(L(u.firstElementChild,m),80);l.set(a,[u,P])}}return{stackValues:t,desertedValues:e,hideDeserted:s,push:o,pop:r,handleUpdateBlock:i}}}),Dt=()=>{an(t=>({"70d05909":t.color1,"70d0590a":t.color2}))},zt=kt.setup;kt.setup=zt?(t,e)=>(Dt(),zt(t,e)):Dt;const da=kt,ha=t=>(Pe("data-v-618de97a"),t=t(),xe(),t),fa={class:"parse-stack"},pa=["title"],ma=["title","innerHTML"],ga=["title"],_a=["title","innerHTML"],va=ha(()=>c("div",{class:"stack-block stack-block-empty"},null,-1));function ya(t,e,n,s,o,r){return h(),f("div",fa,[(h(!0),f(F,null,Q(t.stackValues,(l,i)=>(h(),f("div",{key:l[0],class:q(["stack-block",i%2?"stack-block-odd":"stack-block-even"])},[c("div",{class:"stack-block-inner",ref_for:!0,ref:a=>t.handleUpdateBlock(l[0],a)},[t.mode==="normal"?(h(),f("div",{key:0,class:"stack-block-text",title:l[1].title},$(l[1].content),9,pa)):(h(),f("div",{key:1,class:"stack-block-text",title:l[1].title,innerHTML:l[1].content},null,8,ma))],512)],2))),128)),(h(!0),f(F,null,Q(t.desertedValues,(l,i)=>(h(),f("div",{key:l[0],class:q(["stack-block","stack-block-deserted",t.hideDeserted?"stack-block-hide":"",i%2?"stack-block-odd":"stack-block-even"])},[t.mode==="normal"?(h(),f("div",{key:0,class:"stack-block-text",title:l[1].title},$(l[1].content),9,ga)):(h(),f("div",{key:1,class:"stack-block-text",title:l[1].title,innerHTML:l[1].content},null,8,_a))],2))),128)),va])}var Bt=ue(da,[["render",ya],["__scopeId","data-v-618de97a"]]);const wa={class:"parse-message-container"},Sa={class:"parse-operations"},La={class:"non-terminal"},ka={class:"parse-current"},ba={class:"parse-current-text terminal"},Ta={key:0},Ea={class:"parse-current-text non-terminal"},Ra={class:"parse-stack-container"},Aa={class:"parse-stack-title"},$a={class:"parse-stack-title"},Ia=["width","height"],Pa=["d"],xa=["cx","cy","onClick"],Ca=["x","y"],Ma=ae({setup(t){const{t:e}=Ze({useScope:"global"}),n=et(),s=E(n.current),o=E(),r=E(),l=E(),i=60,a=60,u=8,v=20,m=30,L=200,P=E(L),D=E(L);class z{constructor(R,k,B,H){_(this,"id",Symbol());_(this,"children");_(this,"symbol");_(this,"value");_(this,"x");_(this,"y");_(this,"path");_(this,"expand",!0);_(this,"visible",!0);this.symbol=R.symbol,this.value=R.value,this.x=k,this.y=B,this.children=H||[]}shift(R,k){this.y+=R,this.shiftChildren(R,k),this.path!==void 0&&this.drawPath()}shiftChildren(R,k=0){this.children.length===0&&(D.value=Math.max(D.value,k*a+L)),this.children.forEach(B=>B.shift(R,k+1))}drawPath(){if(this.children.length===0)return;this.path===void 0&&(this.path=new j,ce.value.push(this.path));const R=this.children.map(K=>K.x),k=this.children[0].y,B=Math.floor((this.y+k)/2);let H=`M ${this.x} ${this.y+u} V ${B}`;for(let K=0;K<R.length;K++)H+=`M ${R[K]} ${B} V ${k-u}`,K!==R.length-1&&(H+=`M ${R[K]} ${B} H ${R[K+1]}`);this.path.pathStr=H}changeExpandShow(R){this.visible=R,(!R||this.expand)&&(this.path&&(this.path.visible=R),this.children.forEach(k=>k.changeExpandShow(R)))}changeExpand(){this.children.length!==0&&(this.expand=!this.expand,this.path&&(this.path.visible=this.expand),this.children.forEach(R=>R.changeExpandShow(this.expand)))}}class j{constructor(){_(this,"id",Symbol());_(this,"pathStr","");_(this,"visible",!0)}}const Y=E([]),ne=[],ce=E([]);let J=m-i;function p(M){let R=J+i;J=R,P.value=J+L;const k=new z(M,R,m);Y.value.push(k),ne.push(k)}function C(M,R){const k=ne.splice(-R,R);let B=0;k.length>0?B=Math.floor((k[0].x+k[k.length-1].x)/2):(B=J+i,J=B);const H=new z(M,B,m,k);Y.value.push(H),H.shiftChildren(a),ne.push(H),H.drawPath()}async function x(M){var R,k;if(M.action.name==="Shift"){o.value=M.action,M.stateStackDiff.forEach(H=>{var K;return(K=r.value)==null?void 0:K.push({content:'<span class="non-terminal">I</span><sub class="terminal">'+H.toString()+"</sub>"})}),M.valueStackDiff.forEach(H=>{var K;return(K=l.value)==null?void 0:K.push({title:H.symbol.name,content:'<span class="'+(H.symbol.isTerm?"terminal":"non-terminal")+'">'+H.symbol.name+"</span>"})});const B=M.valueStackDiff[0];p(B)}else M.action.name==="Reduce"?(o.value=M.action,(R=r.value)==null||R.pop(M.stateStackDiff.length),(k=l.value)==null||k.pop(M.valueStackDiff.length),C(M.next,M.valueStackDiff.length)):M.action.name==="Goto"?(o.value=M.action,M.stateStackDiff.forEach(B=>{var H;return(H=r.value)==null?void 0:H.push({content:'<span class="non-terminal">I</span><sub class="terminal">'+B.toString()+"</sub>"})}),M.valueStackDiff.forEach(B=>{var H;return(H=l.value)==null?void 0:H.push({title:B.symbol.name,content:'<span class="'+(B.symbol.isTerm?"terminal":"non-terminal")+'">'+B.symbol.name+"</span>"})})):o.value=M.action;s.value=M.next}Ne(()=>{var M,R;(M=r.value)==null||M.push({content:'<span class="non-terminal">I</span><sub class="terminal">0</sub>'}),(R=l.value)==null||R.push({title:Re.name,content:'<span class="terminal">'+Re.name+"</span>"})});const V=[ie.subscribe("lr","ParseTreeStep",x)];Ve(()=>{V.forEach(M=>M())});const se=E();let Ce=!1,ge=0,Te=0,ke=0,Ae=0;function $e(M){M.preventDefault(),ge=M.pageX,Te=M.pageY,Ae=se.value.scrollLeft,ke=se.value.scrollTop,Ce=!0,document.addEventListener("mousemove",fe),document.addEventListener("mouseup",Me)}function fe(M){if(Ce){let R=M.pageX-ge,k=M.pageY-Te;se.value.scrollLeft=Ae-R,se.value.scrollTop=ke-k}}function Me(){Ce=!1,Ae=se.value.scrollLeft,ke=se.value.scrollTop,document.removeEventListener("mousemove",fe),document.removeEventListener("mouseup",Me)}return Ne(()=>{se.value.addEventListener("mousedown",$e)}),(M,R)=>(h(),f(F,null,[c("div",wa,[c("div",Sa,[o.value?(h(),f(F,{key:0},[c("span",null,$(y(e)("LR.ParseTree.Action"))+":\xA0",1),c("span",La,$(o.value.abbr),1),Z(c("span",{class:"terminal"},$(o.value.arg),513),[[oe,o.value.name!=="Accept"]]),o.value.name==="Reduce"?(h(),ve(Wt,{key:0,style:{"margin-left":"8px"},rule:o.value.rule},null,8,["rule"])):W("",!0)],64)):W("",!0)]),c("div",ka,[s.value instanceof y(He)?(h(),f(F,{key:0},[c("span",null,$(y(e)("LR.ParseTree.NextToken"))+":\xA0",1),c("div",ba,[c("span",null,$(s.value.type),1),s.value.type!==s.value.value?(h(),f("span",Ta,"("+$(s.value.value)+")",1)):W("",!0)])],64)):(h(),f(F,{key:1},[c("span",null,$(y(e)("LR.ParseTree.NextSymbol"))+":\xA0",1),c("div",Ea,[c("span",null,$(s.value.symbol.name),1)])],64))])]),c("div",Ra,[c("div",Aa,$(y(e)("LR.ParseTree.StateStack")),1),te(Bt,{ref_key:"stateStackRef",ref:r,style:{"margin-right":"8px"},mode:"html",color1:"#5976ba",color2:"#b0c4de"},null,512),c("div",$a,$(y(e)("LR.ParseTree.SymbolStack")),1),te(Bt,{ref_key:"valueStackRef",ref:l,mode:"html",color1:"#68945c",color2:"#6fbe2c"},null,512)]),c("div",{class:"parse-tree",ref_key:"parseTreeRef",ref:se},[(h(),f("svg",{width:P.value,height:D.value},[(h(!0),f(F,null,Q(ce.value,k=>Z((h(),f("path",{key:k.id,d:k.pathStr,class:"tree-path"},null,8,Pa)),[[oe,k.visible]])),128)),(h(!0),f(F,null,Q(Y.value,k=>Z((h(),f("g",{key:k.id,class:"tree-node-group"},[c("circle",{cx:k.x,cy:k.y,r:u,class:q(["tree-node-circle",k.expand?"":"tree-node-solid"]),onClick:B=>k.changeExpand()},null,10,xa),c("text",{class:q(["tree-node-text",k.symbol.isTerm?"terminal":"non-terminal"]),x:k.x,y:k.y+v},$(k.symbol.name),11,Ca)])),[[oe,k.visible]])),128))],8,Ia))],512)],64))}});var Oa=ue(Ma,[["__scopeId","data-v-be94a55c"]]);const Na=ae({components:{InputPanel:Js,ControlPanel:ho,Automaton:ea,ParseTable:ca,ParseTree:Oa,GWindow:hs,GLoading:Vt},props:{algo:{type:String}},setup(t){const{t:e}=Ze({useScope:"global"});ln((m,L,P)=>{if(m instanceof ee)pt({title:e("LR.Exception."+m.message)+(m.extra?m.extra:""),content:e("LR.Exception.ParserErrorExtra"),type:"error"});else if(m instanceof De)pt({title:e("LR.Exception."+m.message),content:"",type:"info"});else if(m instanceof Je)pt({title:e("LR.Exception."+m.message),content:m.extra?m.extra:"",type:"error"});else return!0;return!1});const n=Qe(),s=E(!1),o=E("");function r(m){o.value=m}Ne(async()=>{await wn(r),s.value=!0});const l=he(()=>n.showControlPanel),i=he(()=>n.showAutomaton),a=he(()=>n.showParseTable),u=he(()=>n.showParseTree),v=he(()=>n.automatonLoading);return{t:e,larkLoaded:s,loadingMsg:o,showControlPanel:l,showAutomaton:i,showParseTable:a,showParseTree:u,automatonLoading:v}}}),Da={key:1};function za(t,e,n,s,o,r){const l=de("InputPanel"),i=de("GWindow"),a=de("Automaton"),u=de("ParseTable"),v=de("ParseTree"),m=de("ControlPanel"),L=de("GLoading");return t.larkLoaded?(h(),f(F,{key:0},[te(i,{id:"input",title:t.t("LR.InputPanel.Title"),"default-style":{height:"400px",marginBottom:"4px"},position:"absolute"},{default:me(()=>[te(l)]),_:1},8,["title"]),t.showAutomaton?(h(),ve(i,{key:0,id:"automaton",title:t.t("LR.Automaton.Title"),"default-style":{height:"80vh",marginBottom:"4px"},position:"absolute"},{default:me(()=>[te(a)]),_:1},8,["title"])):W("",!0),t.showParseTable?(h(),ve(i,{key:1,id:"parsetable",title:t.t("LR.ParseTable.Title"),"default-style":{width:"fit-content",height:"fit-content",maxWidth:"100%",marginBottom:"4px"},position:"absolute"},{default:me(()=>[te(u)]),_:1},8,["title"])):W("",!0),t.showParseTree?(h(),ve(i,{key:2,id:"parsetree",title:t.t("LR.ParseTree.Title"),"default-style":{height:"80vh"},position:"absolute"},{default:me(()=>[te(v)]),_:1},8,["title"])):W("",!0),t.showControlPanel?(h(),ve(m,{key:3})):W("",!0)],64)):(h(),f("div",Da,[te(L,{text:[t.t("LR.LoadingDependecy"),t.t("LR.LoadingDependecyNotice"),t.loadingMsg]},null,8,["text"])]))}var Ha=ue(Na,[["render",za],["__scopeId","data-v-3bd2acb3"]]);export{Ha as default};
